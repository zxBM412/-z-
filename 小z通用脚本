-- å°zé€šç”¨è„šæœ¬ æµ‹è¯•ç‰ˆ (WindUIç‰ˆæœ¬)
-- åŸºäºå°zé£è½¦æ§åˆ¶v2.8å®Œæ•´è¿ç§»
-- æ‰€æœ‰é€šçŸ¥ä½¿ç”¨å›¾ç‰‡ID: 84648939157347
-- é£è¡Œç³»ç»Ÿï¼šæ‘‡æ†æ§åˆ¶ç§»åŠ¨ï¼Œè§†è§’æ§åˆ¶æ–¹å‘

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local ContextActionService = game:GetService("ContextActionService")
local StarterGui = game:GetService("StarterGui")

-- åˆå§‹åŒ–WindUI
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

WindUI.TransparencyValue = 0.2
WindUI:SetTheme("Dark")

-- æ¸¸æˆå˜é‡
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- é£è¡Œç³»ç»Ÿå˜é‡
local flightEnabled = false
local flightSpeed = 50
local flightBodyVelocity
local flightBodyGyro
local flightConnection

-- ç§»åŠ¨æ§åˆ¶å˜é‡
local moveSpeed = 50
local walkSpeed = 16
local jumpPower = 50

-- ç©¿å¢™æ¨¡å¼å˜é‡
local noClipEnabled = false

-- ä½¿ç”¨æ¸¸æˆè‡ªå¸¦é€šçŸ¥ç³»ç»Ÿæ˜¾ç¤ºæ¬¢è¿å¼¹çª—
local function showGameNotification()
    task.wait(2) -- ç­‰å¾…æ¸¸æˆå®Œå…¨åŠ è½½
    
    -- æ–¹æ³•1: ä½¿ç”¨RobloxåŸç”Ÿé€šçŸ¥ç³»ç»Ÿ
    local success = pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = "å°zé€šç”¨è„šæœ¬ æµ‹è¯•ç‰ˆ",
            Text = "æ¬¢è¿ä½¿ç”¨å°zé€šç”¨è„šæœ¬æµ‹è¯•ç‰ˆ\nå·²æˆåŠŸæ³¨å…¥ï¼",
            Duration = 8,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end)
    
    -- æ–¹æ³•2: å¤‡ç”¨æ–¹æ¡ˆ - ä½¿ç”¨èŠå¤©ç³»ç»Ÿé€šçŸ¥
    if not success then
        task.wait(1)
        StarterGui:SetCore("ChatMakeSystemMessage", {
            Text = "[ç³»ç»Ÿ] æ¬¢è¿ä½¿ç”¨å°zé€šç”¨è„šæœ¬æµ‹è¯•ç‰ˆï¼",
            Color = Color3.fromRGB(0, 170, 255),
            Font = Enum.Font.GothamBold,
            TextSize = 18
        })
    end
    
    -- æ–¹æ³•3: é¢å¤–çš„æç¤ºä¿¡æ¯
    task.wait(3)
    StarterGui:SetCore("SendNotification", {
        Title = "åŠŸèƒ½æç¤º",
        Text = "æŒ‰å³Ctrlé”®æ˜¾ç¤º/éšè—æ§åˆ¶é¢æ¿\næŒ‰Né”®åˆ‡æ¢ç©¿å¢™æ¨¡å¼",
        Duration = 6,
        Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
    })
end

-- æ˜¾ç¤ºæ¸¸æˆé€šçŸ¥
task.spawn(showGameNotification)

-- åˆ›å»ºä¸»çª—å£
local Window = WindUI:CreateWindow({
    Title = "å°zé€šç”¨è„šæœ¬ æµ‹è¯•ç‰ˆ",
    Icon = "rocket",
    Author = "å°zå·¥ä½œå®¤",
    Folder = "å°zè„šæœ¬é…ç½®",
    Size = UDim2.fromOffset(750, 580),
    Theme = "Dark",
    User = {
        Enabled = true,
        Callback = function()
            WindUI:Notify({
                Title = "é…ç½®ä¿å­˜", 
                Content = "ç”¨æˆ·é…ç½®å·²ä¿å­˜", 
                Duration = 1.5,
                Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            })
        end
    },
    SideBarWidth = 250,
    ScrollBarEnabled = true
})

Window:Tag({
    Title = "æµ‹è¯•ç‰ˆ v2.8è¿ç§»",
    Color = Color3.fromHex("#FF6B35")
})

-- å…¬å‘Šæ ‡ç­¾é¡µ
local AnnouncementTab = Window:Tab({
    Title = "å…¬å‘Š",
    Icon = "megaphone",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "è„šæœ¬åŠ è½½", 
            Content = "å°zé€šç”¨è„šæœ¬æµ‹è¯•ç‰ˆå·²å¯åŠ¨", 
            Duration = 2,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- åˆ›å»ºæ¸å˜æ ‡é¢˜
local gradientText = '<font color="#FF8C69">å°</font><font color="#FF7A5A">z</font><font color="#FF694B">é€š</font><font color="#FF573C">ç”¨</font><font color="#FF462D">è„š</font><font color="#FF351E">æœ¬</font> <font color="#FFD700">æµ‹è¯•ç‰ˆ</font>'

AnnouncementTab:Paragraph({
    Title = gradientText,
    Image = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
    ImageSize = 24,
    Color = "Grey",
    Buttons = {
        {
            Title = "å¤åˆ¶ä¿¡æ¯",
            Icon = "copy",
            Variant = "Secondary",
            Callback = function()
                local scriptText = "å°zé€šç”¨è„šæœ¬ æµ‹è¯•ç‰ˆ - åŸºäºå°zé£è½¦æ§åˆ¶v2.8å¼€å‘"
                setclipboard(scriptText)
                WindUI:Notify({
                    Title = "å·²å¤åˆ¶ï¼",
                    Content = "è„šæœ¬ä¿¡æ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            end
        },
        {
            Title = "éšè—UI",
            Icon = "eye-off",
            Variant = "Tertiary",
            Callback = function()
                Window:Toggle()
                WindUI:Notify({
                    Title = "UIçŠ¶æ€",
                    Content = "UIå·²éšè—/æ˜¾ç¤º",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 1.5
                })
            end
        }
    }
})

local AnnouncementSection = AnnouncementTab:Section({ 
    Title = "æ¬¢è¿ä½¿ç”¨å°zé€šç”¨è„šæœ¬",
    TextXAlignment = "Left",
    TextSize = 16
})

-- å…¬å‘Šæ ‡ç­¾é¡µå†…å®¹
AnnouncementTab:Input({
    Title = "è„šæœ¬è¯´æ˜",
    Desc = "åŠŸèƒ½ä»‹ç»",
    Value = "å°zé€šç”¨è„šæœ¬æµ‹è¯•ç‰ˆåŒ…å«ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š\n\n1. ç§»åŠ¨æ§åˆ¶ï¼šè°ƒèŠ‚èµ°è·¯é€Ÿåº¦ã€ç§»åŠ¨é€Ÿåº¦ã€è·³è·ƒé«˜åº¦\n2. ç©å®¶ä¼ é€ï¼šä¼ é€åˆ°å…¶ä»–ç©å®¶ã€ç©å®¶å¤´é¡¶ã€åŸºåœ°ã€é«˜ç©º\n3. é£è¡Œç³»ç»Ÿï¼šæ‘‡æ†æ§åˆ¶ç§»åŠ¨ï¼Œè§†è§’æ§åˆ¶æ–¹å‘\n4. é«˜çº§åŠŸèƒ½ï¼šç©¿å¢™æ¨¡å¼ã€æ— é™è·³è·ƒã€å¤œè§†æ¨¡å¼ã€é˜²å è½\n5. è„šæœ¬çŠ¶æ€ï¼šå®æ—¶ç›‘æ§è„šæœ¬è¿è¡ŒçŠ¶æ€",
    Type = "Textarea",
    Placeholder = "è„šæœ¬åŠŸèƒ½ä»‹ç»...",
    Callback = function(input) 
        -- åªè¯»å†…å®¹
    end
})

-- ç§»åŠ¨æ§åˆ¶æ ‡ç­¾é¡µ
local MovementTab = Window:Tab({
    Title = "ç§»åŠ¨æ§åˆ¶",
    Icon = "move",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "ç§»åŠ¨æ§åˆ¶", 
            Content = "ç§»åŠ¨æ§åˆ¶åŠŸèƒ½å·²åŠ è½½", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- èµ°è·¯é€Ÿåº¦æ§åˆ¶
local WalkSpeedSlider = MovementTab:Slider({
    Title = "èµ°è·¯é€Ÿåº¦",
    Desc = "æ§åˆ¶è§’è‰²è¡Œèµ°é€Ÿåº¦ (1-200)",
    Step = 1,
    Value = {
        Min = 1,
        Max = 200,
        Default = 16,
    },
    Callback = function(value)
        walkSpeed = value
        humanoid.WalkSpeed = value
        WindUI:Notify({
            Title = "ç§»åŠ¨è®¾ç½®",
            Content = "èµ°è·¯é€Ÿåº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- ç§»åŠ¨é€Ÿåº¦æ§åˆ¶
local MoveSpeedSlider = MovementTab:Slider({
    Title = "ç§»åŠ¨é€Ÿåº¦",
    Desc = "æ§åˆ¶è§’è‰²ç§»åŠ¨é€Ÿåº¦ (1-500)",
    Step = 1,
    Value = {
        Min = 1,
        Max = 500,
        Default = 50,
    },
    Callback = function(value)
        moveSpeed = value
        WindUI:Notify({
            Title = "ç§»åŠ¨è®¾ç½®",
            Content = "ç§»åŠ¨é€Ÿåº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- è·³è·ƒé«˜åº¦æ§åˆ¶
local JumpHeightSlider = MovementTab:Slider({
    Title = "è·³è·ƒé«˜åº¦",
    Desc = "æ§åˆ¶è§’è‰²è·³è·ƒé«˜åº¦ (1-200)",
    Step = 1,
    Value = {
        Min = 1,
        Max = 200,
        Default = 50,
    },
    Callback = function(value)
        jumpPower = value
        humanoid.JumpHeight = value
        WindUI:Notify({
            Title = "ç§»åŠ¨è®¾ç½®",
            Content = "è·³è·ƒé«˜åº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- å‚ç›´ç§»åŠ¨æ§åˆ¶
local MovementSection = MovementTab:Section({ 
    Title = "å‚ç›´ç§»åŠ¨æ§åˆ¶",
    TextXAlignment = "Left",
    TextSize = 16,
})

local UpButton = MovementTab:Button({
    Title = "ä¸Šå‡ â†‘",
    Icon = "chevron-up",
    Locked = false,
    Callback = function()
        if character:FindFirstChild("HumanoidRootPart") then
            local currentCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = currentCFrame + Vector3.new(0, 5, 0)
            WindUI:Notify({
                Title = "å‚ç›´ç§»åŠ¨",
                Content = "å·²å‘ä¸Šç§»åŠ¨5ä¸ªå•ä½",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        end
    end
})

local DownButton = MovementTab:Button({
    Title = "ä¸‹é™ â†“",
    Icon = "chevron-down",
    Locked = false,
    Callback = function()
        if character:FindFirstChild("HumanoidRootPart") then
            local currentCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = currentCFrame - Vector3.new(0, 5, 0)
            WindUI:Notify({
                Title = "å‚ç›´ç§»åŠ¨",
                Content = "å·²å‘ä¸‹ç§»åŠ¨5ä¸ªå•ä½",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        end
    end
})

-- ç©å®¶ä¼ é€æ ‡ç­¾é¡µ
local TeleportTab = Window:Tab({
    Title = "ç©å®¶ä¼ é€",
    Icon = "users",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "ä¼ é€ç³»ç»Ÿ", 
            Content = "ç©å®¶ä¼ é€åŠŸèƒ½å·²åŠ è½½", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- è·å–æ‰€æœ‰ç©å®¶
local function getPlayers()
    local playersList = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= Players.LocalPlayer then
            table.insert(playersList, player.Name)
        end
    end
    if #playersList == 0 then
        table.insert(playersList, "æ— åœ¨çº¿ç©å®¶")
    end
    return playersList
end

-- ç©å®¶é€‰æ‹©ä¸‹æ‹‰æ¡†
local PlayerDropdown = TeleportTab:Dropdown({
    Title = "é€‰æ‹©ä¼ é€ç›®æ ‡",
    Desc = "é€‰æ‹©è¦ä¼ é€åˆ°çš„ç©å®¶",
    Values = getPlayers(),
    Value = getPlayers()[1],
    Callback = function(selectedPlayer) 
        if selectedPlayer ~= "æ— åœ¨çº¿ç©å®¶" then
            _G.selectedTeleportTarget = selectedPlayer
            WindUI:Notify({
                Title = "ç›®æ ‡é€‰æ‹©",
                Content = "å·²é€‰æ‹©ç©å®¶: " .. selectedPlayer,
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        end
    end
})

-- åˆ·æ–°ç©å®¶åˆ—è¡¨æŒ‰é’®
TeleportTab:Button({
    Title = "åˆ·æ–°ç©å®¶åˆ—è¡¨",
    Icon = "refresh-cw",
    Locked = false,
    Callback = function()
        PlayerDropdown:SetValues(getPlayers())
        WindUI:Notify({
            Title = "ç©å®¶åˆ—è¡¨",
            Content = "ç©å®¶åˆ—è¡¨å·²åˆ·æ–°ï¼Œå½“å‰åœ¨çº¿: " .. (#getPlayers() - 1) .. "äºº",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1.5
        })
    end
})

-- ä¼ é€åŠŸèƒ½
local TeleportSection = TeleportTab:Section({ 
    Title = "ä¼ é€åŠŸèƒ½",
    TextXAlignment = "Left",
    TextSize = 16,
})

-- ä¼ é€åˆ°ç©å®¶
TeleportTab:Button({
    Title = "ä¼ é€åˆ°ç©å®¶",
    Icon = "navigation",
    Locked = false,
    Callback = function()
        local targetPlayer = _G.selectedTeleportTarget
        if targetPlayer and targetPlayer ~= "æ— åœ¨çº¿ç©å®¶" then
            local target = Players:FindFirstChild(targetPlayer)
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                character:SetPrimaryPartCFrame(target.Character.HumanoidRootPart.CFrame)
                WindUI:Notify({
                    Title = "ä¼ é€æˆåŠŸ",
                    Content = "å·²ä¼ é€åˆ°: " .. targetPlayer,
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            else
                WindUI:Notify({
                    Title = "ä¼ é€å¤±è´¥",
                    Content = "ç›®æ ‡ç©å®¶ä¸åœ¨çº¿æˆ–æ— è§’è‰²",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            end
        end
    end
})

-- ä¼ é€åˆ°ç©å®¶å¤´é¡¶
TeleportTab:Button({
    Title = "ä¼ é€åˆ°ç©å®¶å¤´é¡¶",
    Icon = "user-plus",
    Locked = false,
    Callback = function()
        local targetPlayer = _G.selectedTeleportTarget
        if targetPlayer and targetPlayer ~= "æ— åœ¨çº¿ç©å®¶" then
            local target = Players:FindFirstChild(targetPlayer)
            if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                -- è·å–ç›®æ ‡ç©å®¶çš„ä½ç½®
                local targetPosition = target.Character.HumanoidRootPart.Position
                -- åœ¨ç›®æ ‡ç©å®¶å¤´é¡¶ä¸Šæ–¹10ä¸ªå•ä½çš„ä½ç½®
                local headPosition = targetPosition + Vector3.new(0, 10, 0)
                
                -- ä¼ é€åˆ°ç›®æ ‡ç©å®¶å¤´é¡¶
                character:SetPrimaryPartCFrame(CFrame.new(headPosition))
                
                WindUI:Notify({
                    Title = "ä¼ é€æˆåŠŸ",
                    Content = "å·²ä¼ é€åˆ° " .. targetPlayer .. " çš„å¤´é¡¶",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            else
                WindUI:Notify({
                    Title = "ä¼ é€å¤±è´¥",
                    Content = "ç›®æ ‡ç©å®¶ä¸åœ¨çº¿æˆ–æ— è§’è‰²",
                    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                    Duration = 2
                })
            end
        end
    end
})

-- ä¼ é€åˆ°åŸºåœ°
TeleportTab:Button({
    Title = "ä¼ é€åˆ°åŸºåœ°",
    Icon = "home",
    Locked = false,
    Callback = function()
        -- æŸ¥æ‰¾åŸºåœ°ä½ç½®
        local spawn = game.Workspace:FindFirstChild("SpawnLocation")
        if spawn then
            character:SetPrimaryPartCFrame(spawn.CFrame)
            WindUI:Notify({
                Title = "ä¼ é€æˆåŠŸ",
                Content = "å·²ä¼ é€åˆ°åŸºåœ°",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        else
            -- å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŸºåœ°ï¼Œä¼ é€åˆ°åœ°å›¾ä¸­å¿ƒ
            local center = Vector3.new(0, 100, 0)
            character:SetPrimaryPartCFrame(CFrame.new(center))
            WindUI:Notify({
                Title = "ä¼ é€æˆåŠŸ",
                Content = "å·²ä¼ é€åˆ°åœ°å›¾ä¸­å¿ƒ",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        end
    end
})

-- ä¼ é€åˆ°é«˜ç©º
TeleportTab:Button({
    Title = "ä¼ é€åˆ°é«˜ç©º",
    Icon = "cloud",
    Locked = false,
    Callback = function()
        if character:FindFirstChild("HumanoidRootPart") then
            local currentCFrame = character.HumanoidRootPart.CFrame
            character.HumanoidRootPart.CFrame = currentCFrame + Vector3.new(0, 500, 0)
            WindUI:Notify({
                Title = "é«˜ç©ºä¼ é€",
                Content = "å·²ä¼ é€åˆ°500å•ä½é«˜ç©º",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        end
    end
})

-- é£è¡Œç³»ç»Ÿæ ‡ç­¾é¡µ
local FlightTab = Window:Tab({
    Title = "é£è¡Œç³»ç»Ÿ",
    Icon = "wind",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "é£è¡Œç³»ç»Ÿ", 
            Content = "é£è¡Œç³»ç»Ÿå·²åŠ è½½\næ‘‡æ†æ§åˆ¶ç§»åŠ¨ï¼Œè§†è§’æ§åˆ¶æ–¹å‘", 
            Duration = 3,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- é£è¡Œé€Ÿåº¦æ§åˆ¶
local FlightSpeedSlider = FlightTab:Slider({
    Title = "é£è¡Œé€Ÿåº¦",
    Desc = "æ§åˆ¶é£è¡Œç§»åŠ¨é€Ÿåº¦ (10-200)",
    Step = 1,
    Value = {
        Min = 10,
        Max = 200,
        Default = 50,
    },
    Callback = function(value)
        flightSpeed = value
        WindUI:Notify({
            Title = "é£è¡Œè®¾ç½®",
            Content = "é£è¡Œé€Ÿåº¦è®¾ç½®ä¸º: " .. value,
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- é£è¡Œæ¨¡å¼åˆ‡æ¢
local FlightToggle = FlightTab:Toggle({
    Title = "å¯ç”¨é£è¡Œ",
    Desc = "æŒ‰Eé”®åˆ‡æ¢é£è¡Œæ¨¡å¼",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        flightEnabled = state
        if state then
            enableFlight()
            WindUI:Notify({
                Title = "é£è¡Œç³»ç»Ÿ",
                Content = "é£è¡Œæ¨¡å¼å·²å¯ç”¨\nä½¿ç”¨æ‘‡æ†æ§åˆ¶ç§»åŠ¨ï¼Œè§†è§’æ§åˆ¶æ–¹å‘",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 3
            })
        else
            disableFlight()
            WindUI:Notify({
                Title = "é£è¡Œç³»ç»Ÿ",
                Content = "é£è¡Œæ¨¡å¼å·²ç¦ç”¨",
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 2
            })
        end
    end
})

-- æ–°çš„é£è¡Œæ§åˆ¶å‡½æ•°ï¼šæ‘‡æ†æ§åˆ¶ç§»åŠ¨ï¼Œè§†è§’æ§åˆ¶æ–¹å‘
function enableFlight()
    if not character:FindFirstChild("HumanoidRootPart") then return end
    
    -- åˆ›å»ºé£è¡Œç‰©ç†ç»„ä»¶
    flightBodyVelocity = Instance.new("BodyVelocity")
    flightBodyGyro = Instance.new("BodyGyro")
    
    flightBodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    flightBodyVelocity.Velocity = Vector3.new(0, 0, 0)
    flightBodyVelocity.Parent = character.HumanoidRootPart
    
    flightBodyGyro.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
    flightBodyGyro.P = 1000
    flightBodyGyro.D = 50
    flightBodyGyro.Parent = character.HumanoidRootPart
    
    humanoid.PlatformStand = true
    
    -- é£è¡Œæ§åˆ¶è¿æ¥
    flightConnection = RunService.RenderStepped:Connect(function()
        if not flightEnabled or not flightBodyVelocity or not flightBodyGyro then
            return
        end
        
        local camera = workspace.CurrentCamera
        if not camera then return end
        
        -- è·å–æ‘„åƒå¤´æ–¹å‘ï¼ˆç”¨äºæ§åˆ¶é£è¡Œæœå‘ï¼‰
        local cameraCFrame = camera.CFrame
        local cameraLookVector = cameraCFrame.LookVector
        
        -- è·å–æ¸¸æˆæ‘‡æ†è¾“å…¥ï¼ˆæˆ–è€…é”®ç›˜è¾“å…¥ä½œä¸ºå¤‡é€‰ï¼‰
        local moveDirection = Vector3.new(0, 0, 0)
        
        -- ä¼˜å…ˆä½¿ç”¨æ¸¸æˆæ‘‡æ†è¾“å…¥
        if humanoid and humanoid.MoveDirection then
            moveDirection = humanoid.MoveDirection
            
            -- å¦‚æœæ²¡æœ‰æ‘‡æ†è¾“å…¥ï¼Œä½¿ç”¨é”®ç›˜è¾“å…¥ï¼ˆå¤‡é€‰æ–¹æ¡ˆï¼‰
            if moveDirection.Magnitude == 0 then
                -- é”®ç›˜è¾“å…¥ï¼ˆWASDï¼‰
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                    moveDirection = moveDirection + cameraLookVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                    moveDirection = moveDirection - cameraLookVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                    moveDirection = moveDirection - cameraCFrame.RightVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                    moveDirection = moveDirection + cameraCFrame.RightVector
                end
            end
        end
        
        -- å‚ç›´ç§»åŠ¨æ§åˆ¶ï¼ˆç‹¬ç«‹äºæ‘‡æ†ï¼‰
        local verticalMove = Vector3.new(0, 0, 0)
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
            verticalMove = Vector3.new(0, 1, 0)
        elseif UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
            verticalMove = Vector3.new(0, -1, 0)
        end
        
        -- åˆå¹¶æ°´å¹³å’Œå‚ç›´ç§»åŠ¨
        local finalMoveDirection = moveDirection + verticalMove
        
        -- åº”ç”¨é£è¡Œé€Ÿåº¦
        if finalMoveDirection.Magnitude > 0 then
            -- æ ‡å‡†åŒ–æ–¹å‘å‘é‡å¹¶ä¹˜ä»¥é€Ÿåº¦
            flightBodyVelocity.Velocity = finalMoveDirection.Unit * flightSpeed
        else
            flightBodyVelocity.Velocity = Vector3.new(0, 0, 0)
        end
        
        -- é‡è¦ï¼šè®¾ç½®é£è¡Œæœå‘ä¸ºæ‘„åƒå¤´æ–¹å‘
        -- è¿™ä¼šè®©é£è¡Œæ–¹å‘è·Ÿéšè§†è§’
        local horizontalLook = Vector3.new(cameraLookVector.X, 0, cameraLookVector.Z)
        if horizontalLook.Magnitude > 0 then
            flightBodyGyro.CFrame = CFrame.new(
                character.HumanoidRootPart.Position,
                character.HumanoidRootPart.Position + horizontalLook
            )
        end
    end)
end

function disableFlight()
    if flightConnection then
        flightConnection:Disconnect()
        flightConnection = nil
    end
    
    if flightBodyVelocity then
        flightBodyVelocity:Destroy()
        flightBodyVelocity = nil
    end
    
    if flightBodyGyro then
        flightBodyGyro:Destroy()
        flightBodyGyro = nil
    end
    
    if humanoid then
        humanoid.PlatformStand = false
        humanoid:ChangeState(Enum.HumanoidStateType.Landed)
    end
end

-- é£è¡Œæ§åˆ¶è¯´æ˜
FlightTab:Button({
    Title = "é£è¡Œæ§åˆ¶è¯´æ˜",
    Icon = "help-circle",
    Locked = false,
    Callback = function()
        WindUI:Notify({
            Title = "é£è¡Œæ§åˆ¶è¯´æ˜",
            Content = "é£è¡Œæ§åˆ¶æ–¹å¼ï¼š\n1. ä½¿ç”¨æ¸¸æˆæ‘‡æ†æ§åˆ¶ç§»åŠ¨æ–¹å‘\n2. ç§»åŠ¨é¼ æ ‡/å³æ‘‡æ†æ§åˆ¶è§†è§’æ–¹å‘\n3. é£è¡Œæ–¹å‘ä¼šè‡ªåŠ¨è·Ÿéšè§†è§’æ–¹å‘\n4. ç©ºæ ¼é”®ï¼šä¸Šå‡\n5. å·¦Ctrlé”®ï¼šä¸‹é™\n\nç®€å•è¯´ï¼šæ‘‡æ†æ§åˆ¶å¾€å“ªé£ï¼Œè§†è§’æ§åˆ¶é¢å‘å“ª",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 6
        })
    end
})

-- é«˜çº§åŠŸèƒ½æ ‡ç­¾é¡µ
local AdvancedTab = Window:Tab({
    Title = "é«˜çº§åŠŸèƒ½",
    Icon = "zap",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "é«˜çº§åŠŸèƒ½", 
            Content = "é«˜çº§åŠŸèƒ½å·²åŠ è½½", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- ç©¿å¢™æ¨¡å¼ (NoClip)
local NoClipToggle = AdvancedTab:Toggle({
    Title = "ç©¿å¢™æ¨¡å¼",
    Desc = "æŒ‰Né”®å¿«é€Ÿåˆ‡æ¢ç©¿å¢™æ¨¡å¼",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        noClipEnabled = state
        if character then
            for _, part in ipairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = not state
                end
            end
        end
        WindUI:Notify({
            Title = "ç©¿å¢™æ¨¡å¼",
            Content = state and "ç©¿å¢™æ¨¡å¼å·²å¯ç”¨" or "ç©¿å¢™æ¨¡å¼å·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- æ— é™è·³è·ƒ
local InfiniteJumpToggle = AdvancedTab:Toggle({
    Title = "æ— é™è·³è·ƒ",
    Desc = "åœ¨ç©ºä¸­å¯ä»¥æ— é™æ¬¡è·³è·ƒ",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        _G.infiniteJump = state
        WindUI:Notify({
            Title = "è·³è·ƒè®¾ç½®",
            Content = state and "æ— é™è·³è·ƒå·²å¯ç”¨" or "æ— é™è·³è·ƒå·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- æ— é™è·³è·ƒè¿æ¥
local jumpConnection
jumpConnection = UserInputService.JumpRequest:Connect(function()
    if _G.infiniteJump then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- å¤œè§†æ¨¡å¼
local NightVisionToggle = AdvancedTab:Toggle({
    Title = "å¤œè§†æ¨¡å¼",
    Desc = "åœ¨é»‘æš—ç¯å¢ƒä¸­å¢å¼ºè§†é‡",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        if state then
            local lighting = game:GetService("Lighting")
            lighting.Brightness = 2
            lighting.OutdoorAmbient = Color3.fromRGB(255, 255, 255)
        else
            local lighting = game:GetService("Lighting")
            lighting.Brightness = 1
            lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
        end
        WindUI:Notify({
            Title = "è§†è§‰æ•ˆæœ",
            Content = state and "å¤œè§†æ¨¡å¼å·²å¯ç”¨" or "å¤œè§†æ¨¡å¼å·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- é˜²å è½
local AntiFallToggle = AdvancedTab:Toggle({
    Title = "é˜²å è½",
    Desc = "é˜²æ­¢ä»é«˜å¤„å è½å—ä¼¤",
    Type = "Checkbox",
    Default = false,
    Callback = function(state) 
        if state then
            humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
        else
            humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
            humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
        end
        WindUI:Notify({
            Title = "å®‰å…¨è®¾ç½®",
            Content = state and "é˜²å è½å·²å¯ç”¨" or "é˜²å è½å·²ç¦ç”¨",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 2
        })
    end
})

-- è„šæœ¬çŠ¶æ€æ ‡ç­¾é¡µ
local StatusTab = Window:Tab({
    Title = "è„šæœ¬çŠ¶æ€",
    Icon = "activity",
    Locked = false,
    OnCreate = function()
        WindUI:Notify({
            Title = "çŠ¶æ€ç›‘æ§", 
            Content = "è„šæœ¬çŠ¶æ€ç›‘æ§å·²å¯åŠ¨", 
            Duration = 1,
            Icon = "rbxassetid://84648939157347" -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        })
    end
})

-- åˆ›å»ºçŠ¶æ€æ˜¾ç¤ºå‡½æ•°
local function updateStatus()
    local flightStatus = flightEnabled and "âœ… å¯ç”¨" or "âŒ ç¦ç”¨"
    local noClipStatus = noClipEnabled and "âœ…" or "âŒ"
    local infiniteJumpStatus = _G.infiniteJump and "âœ…" or "âŒ"
    local nightVisionStatus = NightVisionToggle:GetState() and "âœ…" or "âŒ"
    local antiFallStatus = AntiFallToggle:GetState() and "âœ…" or "âŒ"
    
    local statusText = string.format([[
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   å°zé€šç”¨è„šæœ¬ æµ‹è¯•ç‰ˆ çŠ¶æ€æŠ¥å‘Š    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ“Š åŸºç¡€çŠ¶æ€ï¼š
â•‘   é£è¡Œæ¨¡å¼: %s
â•‘   èµ°è·¯é€Ÿåº¦: %d
â•‘   ç§»åŠ¨é€Ÿåº¦: %d
â•‘   è·³è·ƒé«˜åº¦: %d
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ âš¡ é«˜çº§åŠŸèƒ½ï¼š
â•‘   ç©¿å¢™æ¨¡å¼: %s
â•‘   æ— é™è·³è·ƒ: %s
â•‘   å¤œè§†æ¨¡å¼: %s
â•‘   é˜²å è½: %s
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ ğŸ‘¤ ç©å®¶ä¿¡æ¯ï¼š
â•‘   ç©å®¶åç§°: %s
â•‘   è§’è‰²ç”Ÿå‘½: %.1f/%.1f
â•‘   ä½ç½®åæ ‡: %.1f, %.1f, %.1f
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
]],
        flightStatus,
        walkSpeed,
        moveSpeed,
        jumpPower,
        noClipStatus,
        infiniteJumpStatus,
        nightVisionStatus,
        antiFallStatus,
        player.Name,
        humanoid.Health,
        humanoid.MaxHealth,
        character:GetPrimaryPartCFrame().X,
        character:GetPrimaryPartCFrame().Y,
        character:GetPrimaryPartCFrame().Z
    )
    return statusText
end

-- çŠ¶æ€åˆ·æ–°æŒ‰é’®
StatusTab:Button({
    Title = "åˆ·æ–°çŠ¶æ€",
    Icon = "refresh-cw",
    Locked = false,
    Callback = function()
        StatusInput:SetValue(updateStatus())
        WindUI:Notify({
            Title = "çŠ¶æ€æ›´æ–°",
            Content = "è„šæœ¬çŠ¶æ€å·²åˆ·æ–°",
            Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
            Duration = 1
        })
    end
})

-- çŠ¶æ€æ–‡æœ¬æ¡†
local StatusInput = StatusTab:Input({
    Title = "å½“å‰çŠ¶æ€",
    Desc = "å®æ—¶ç›‘æ§è„šæœ¬å„é¡¹åŠŸèƒ½çŠ¶æ€",
    Value = updateStatus(),
    Type = "Textarea",
    Placeholder = "çŠ¶æ€ä¿¡æ¯åŠ è½½ä¸­...",
    Callback = function(input) 
        print("çŠ¶æ€ä¿¡æ¯å·²æŸ¥çœ‹")
    end
})

-- è‡ªåŠ¨æ›´æ–°çŠ¶æ€
spawn(function()
    while true do
        wait(3)
        if StatusInput then
            StatusInput:SetValue(updateStatus())
        end
    end
end)

-- UIå¿«æ·é”®
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if input.KeyCode == Enum.KeyCode.RightControl then
            Window:Toggle()
            WindUI:Notify({
                Title = "UIæ§åˆ¶",
                Content = "UIå·²" .. (Window.Visible and "æ˜¾ç¤º" or "éšè—"),
                Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
                Duration = 1
            })
        elseif input.KeyCode == Enum.KeyCode.E then
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
                FlightToggle:Toggle()
            end
        elseif input.KeyCode == Enum.KeyCode.N then
            NoClipToggle:Toggle()
        end
    end
end)

-- è„šæœ¬åŠ è½½å®Œæˆæç¤º
wait(1)
WindUI:Notify({
    Title = "ğŸ‰ å°zé€šç”¨è„šæœ¬ æµ‹è¯•ç‰ˆ",
    Content = "è„šæœ¬åŠ è½½å®Œæˆï¼\næŒ‰RightControléšè—/æ˜¾ç¤ºUI\næŒ‰Né”®åˆ‡æ¢ç©¿å¢™æ¨¡å¼\nCtrl+Eå¿«é€Ÿåˆ‡æ¢é£è¡Œ\né£è¡Œï¼šæ‘‡æ†æ§åˆ¶ç§»åŠ¨ï¼Œè§†è§’æ§åˆ¶æ–¹å‘",
    Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
    Duration = 6
})

-- è§’è‰²é‡ç”Ÿäº‹ä»¶
player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")
    
    -- é‡æ–°åº”ç”¨è®¾ç½®
    humanoid.WalkSpeed = walkSpeed
    humanoid.JumpHeight = jumpPower
    
    wait(1)
    WindUI:Notify({
        Title = "è§’è‰²é‡ç”Ÿ",
        Content = "è§’è‰²å·²é‡ç”Ÿï¼Œè®¾ç½®å·²é‡æ–°åº”ç”¨",
        Icon = "rbxassetid://84648939157347", -- ä½¿ç”¨æŒ‡å®šçš„å›¾ç‰‡ID
        Duration = 2
    })
    
    -- å¦‚æœé£è¡Œæ¨¡å¼å¼€å¯ï¼Œé‡æ–°å¯ç”¨é£è¡Œ
    if flightEnabled then
        wait(0.5)
        enableFlight()
    end
end)

-- è„šæœ¬å¸è½½æ—¶æ¸…ç†
game:GetService("CoreGui").ChildRemoved:Connect(function(child)
    if child.Name == "WindUI" then
        -- æ¸…ç†é£è¡Œç³»ç»Ÿ
        if flightEnabled then
            disableFlight()
        end
        -- æ¸…ç†æ— é™è·³è·ƒ
        if jumpConnection then
            jumpConnection:Disconnect()
        end
    end
end)
